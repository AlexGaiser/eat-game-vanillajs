<!DOCTYPE html>
<!-- saved from url=(0114)https://mdn.mozillademos.org/en-US/docs/Games/Techniques/2D_collision_detection$samples/Rect_code?revision=1404878 -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        
        <link href="./samples.37902ba3b7fe.css" rel="stylesheet" type="text/css">
        
        <title>2D collision detection - Rect_code - code sample</title>
    </head>
    <body>
        
            <div id="cr-stage" style="width: 200px; height: 200px; overflow: hidden; position: relative;"><div style="position: absolute; z-index: 1; transform-style: preserve-3d;"></div><canvas width="200" height="200" style="position: absolute; left: 0px; top: 0px;"></canvas></div>
<p>Move the rectangle with arrow keys. Green means collision, blue means no collision.</p>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/crafty/0.5.4/crafty-min.js"></script>

        
        
            <script>
                Crafty.init(200, 200);

var dim1 = {x: 5, y: 5, w: 50, h: 50}
var dim2 = {x: 20, y: 10, w: 60, h: 40}

var rect1 = Crafty.e("2D, Canvas, Color").attr(dim1).color("red");

var rect2 = Crafty.e("2D, Canvas, Color, Keyboard, Fourway").fourway(2).attr(dim2).color("blue");

rect2.bind("EnterFrame", function () {
    if (rect1.x < rect2.x + rect2.w &&
        rect1.x + rect1.w > rect2.x &&
        rect1.y < rect2.y + rect2.h &&
        rect1.h + rect1.y > rect2.y) {
        // collision detected!
        this.color("green");
    } else {
        // no collision
        this.color("blue"); 
    }
});


            </script>
        
    
</body></html>